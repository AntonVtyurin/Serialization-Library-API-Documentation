# Библиотека сериализации.

Библиотека представляет набор свободных функций для преобразования типов С++ в бинарное представление (сериализация) и из их бинарного представления в типы С++ (десериализация).

Библиотека поддерживает тривиальные встроенные типы и пользовательские типы, для которых явно определены функции сериализации/десериализации.

Для поддержки библиотекой сериализации/десериализации разработчик пользовательского типа должен объявить (в том же пространстве имён, что и разрабатываемый тип) функции serialize и deserialize со следующей сигнатурой:

```cpp
template<size_t _extent>
auto serialize(std::span<std::byte, _extent> buffer, const UserType& inValue, std::endian targetEndian);
template<size_t _extent>
auto deserialize(std::span<const std::byte, _extent> buffer, UserType& resultValue, std::endian sourceEndian);
```

где UserType - пользовательский тип.

Общий принцип работы функций библиотеки следующий: на вход принимается буфер, в который сериализуется/десериализуется значение, и возвращается неиспользованный остаток входного буфера. То есть буфер воспринимается как поток.

Библиотека не потокобезопасна.

Для использования функций сериализации, с целью полноценного поиска всех перегрузок среди библиотечных и пользовательских функций, необходимо включить библиотечные функции сериализации в область видимости:

```cpp
using Serialization::serialize;
serialize(...) // Доступны функции serialize и для встроенных типов и (по ADL) для пользовательских.
```
